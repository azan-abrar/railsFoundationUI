<% unless @user.errors.blank? %>
<div class="alert-box alert">
  <% @user.errors.full_messages.each do |error| %>
  <p><%= error %></p>
  <% end %>
</div>
<% end %>

<div class="inner-container">

  <%= form_for @user do |f| %>
  <h1 class="subheader">Sign Up</h1>

  <%= f.fields_for :employee do |emp| %>
  <div class="row">
    <div class="large-6 columns">
      <label>Employee ID:</label>
      <%= emp.text_field :employee_id, :placeholder => "Employee ID", :required => true %>
    </div>
  </div>
  <div class="row">
    <div class="large-6 columns">
      <label>First Name:</label>
      <%= emp.text_field :first_name, :placeholder => "First Name", :required => true %>
    </div>
  </div>
  <div class="row">
    <div class="large-6 columns">
      <label>Last Name:</label>
      <%= emp.text_field :last_name, :placeholder => "Last Name", :required => true %>
    </div>
  </div>
  <div class="row">
    <div class="large-6 columns">
      <label>Email:</label>
      <%= emp.text_field :email, :placeholder => "Email", :required => true %>
    </div>
  </div>
  <div class="row">
    <div class="large-6 columns">
      <label>Mobile Number:</label>
      <%= emp.text_field :mobile_phone, :placeholder => "Mobile Number", :required => true %>
    </div>
  </div>
  <div class="row">
    <div class="large-6 columns">
      <label>Designation:</label>
      <%= emp.text_field :designation, :placeholder => "Designation", :required => true %>
    </div>
  </div>
  <div class="row">
    <div class="large-6 columns">
      <label>Gender:</label>
      <%= emp.select :gender, options_for_select(["Male", "Female"], f.object.employee.gender), {:include_blank=>"- Select Gender -"}, :required => true %>
    </div>
  </div>
  <div class="row">
    <div class="large-6 columns">
      <label>Country:</label>
      <%= emp.select :permanent_country_code, options_for_select(Carmen::Country.all.map {|m| [m.name,m.code]}, (f.object.employee.permanent_country_code.blank?) ? "PK" : f.object.employee.permanent_country_code), {:include_blank=>"- Select Country -"}, :required => true %>
    </div>
  </div>
  <div class="row">
    <div class="large-6 columns">
      <label>State:</label>
      <%= emp.text_field :permanent_state, :placeholder => "State", :required => true %>
    </div>
  </div>
  <div class="row">
    <div class="large-12 columns">
      <label>Street Address:</label>
      <%= emp.text_field :permanent_address, :placeholder => "Street Address", :required => true %>
    </div>
  </div>
  <div class="row">
    <div class="large-6 columns">
      <label>City:</label>
      <%= emp.text_field :permanent_city, :placeholder => "City", :required => true %>
    </div>
  </div>
  <div class="row">
    <div class="large-6 columns">
      <label>Postal Code:</label>
      <%= emp.text_field :permanent_postal_code, :placeholder => "Postal Code", :required => true %>
    </div>
  </div>
  <div class="row">
    <div class="large-6 columns">
      <label>Country:</label>
      <%= emp.select :department_id, options_for_select(@departments.map {|m| [m.name,m.id]}, f.object.employee.department_id), {:include_blank=>"- Select Department -"}, :required => true %>
    </div>
  </div>
  <% end %>

  <fieldset>
    <div class="row">
      <div class="large-6 columns">
        <label>Username:</label>
        <%= f.text_field :username, :placeholder => "Username", :required => true %>
      </div>
    </div>
    <div class="row">
      <div class="large-6 columns">
        <label>Password:</label>
        <%= f.password_field :password, :placeholder => "Password", :required => true %>
      </div>
    </div>
    <div class="row">
      <div class="large-6 columns">
        <label>Confirm Password:</label>
        <%= f.password_field :password_confirmation, :placeholder => "Confirm Password", :required => true %>
      </div>
    </div>
  </fieldset>

  <%= hidden_field_tag :access_token, @company.access_token %>

  <div class="row">
    <div class="large-6 columns">
      <button type="submit" class="button radius">Sign Up</button>
    </div>
  </div>
  <% end %>
</div>
